<div ng-include="'/views/navbar.html'"></div>

<div class="tabs-wrapper" style="padding-bottom: 1px;">
  <div class="row white z-depth-1">
    <div class="container" data-ng-cloak>
      <ul style="col s12" class="tabs">
        <li style="col s4" class="tab"><a class="active" href="#profile">Edit profile</a></li>
        <li style="col s4" class="tab"><a href="#avatar">Change avatar</a></li>
        <li style="col s4" class="tab"><a href="#password">Change password</a></li>
      </ul>
    </div>
  </div>
</div>

<!-- Profile -->
<div id="profile" class="container" data-ng-cloak>
  <h4 class="header">Edit profile</h4>

  <p>
    Edit your basic account information for <span class="keyword">{{ apiFactory.getUser().username }}</span>.
  </p>

  <div class="row" style="margin-top: 70px;">

    <div class="col s10 offset-s1 m6 offset-m3 l4 offset-l4">
    <div class="row" ng-controller="EditUserFormCtrl">
      <form role="form" class="col s12" name="formEditUser" ng-submit="submitEditUser(formEditUser.$valid)" novalidate>

        <div class="row">
          <!-- input firstname -->
          <div class="input-field col s6">
            <input required ng-model="editUserInputFirstname" name="editUserInputFirstname" id="editUserInputFirstname" type="text">
            <label for="editUserInputFirstname">First Name</label>
            <div class="has-error-block" ng-show="submitted && formEditUser.editUserInputFirstname.$error.required">The firstname is required and cannot be empty.</div>
          </div>

          <!-- input lastname -->
          <div class="input-field col s6">
            <input required ng-model="editUserInputLastname" name="editUserInputLastname" id="editUserInputLastname" type="text">
            <label for="editUserInputLastname">Last Name</label>
            <div class="has-error-block" ng-show="submitted && formEditUser.editUserInputLastname.$error.required">The lastname is required and cannot be empty.</div>
          </div>
        </div>

        <!-- input radio gender -->
        <div class="row" style="padding-bottom: 20px;">
          <div class="radio radio-primary">
            <div class="col s3">

                <input name="editUserInputGender" ng-model="editUserInputGender" value="male" type="radio" id="genderMale" />
                <label style="font-size: 15px;" for="genderMale">Male</label>

            </div>
            <div class="col s3">

                <input name="editUserInputGender" ng-model="editUserInputGender" value="female" type="radio" id="genderFemale" />
                <label style="font-size: 15px;" for="genderFemale">Female</label>

            </div>
          </div>
        </div>

        <!-- input email -->
        <div class="row">
          <div class="input-field col s12">
            <input required ng-model="editUserInputEmail" name="editUserInputEmail" id="editUserInputEmail" type="email">
            <label for="editUserInputEmail">Address Mail</label>
            <div class="has-error-block" ng-show="submitted && formEditUser.editUserInputEmail.$error.required">The email address is required and cannot be empty.</div>
            <div class="has-error-block" ng-show="submitted && !formEditUser.editUserInputEmail.$error.required && formEditUser.editUserInputEmail.$invalid">The email address is not valid.</div>
            <div class="has-error-block" ng-show="submitted && emailAlreadyExists">The email address already exists.</div>
          </div>
        </div>


        <div class="center">
          <button style="margin-top: 30px;" type="submit" class="waves-effect waves-light btn">Edit profile</button>
        </div>

      </form>
    </div>
    </div>
  </div>
</div>


<!-- Avatar -->
<div id="avatar" class="container" data-ng-cloak>
  <h4 class="header">Change avatar</h4>


</div>

<!-- Password -->
<div id="password" class="container" data-ng-cloak>

  <h4 class="header">Change password</h4>

  <p>
      Enter a new password for <span class="keyword">{{ apiFactory.getUser().email }}</span>.<br />We highly recommend you create a unique password - one that you don't use for any other websites.<br /><br />
      Note: You can't reuse your old password once you change it.
  </p>

  <div class="row" style="margin-top: 70px;">
    <div class="col s10 offset-s1 m6 offset-m3 l4 offset-l4">
    <div class="row" ng-controller="ChangePasswordFormCtrl">
      <form role="form" class="col s12" name="formChangePassword" ng-submit="submitChangePassword(formChangePassword.$valid)" novalidate>

        <!-- input old password -->
        <div class="row">
          <div class="input-field col s12">
            <input required ng-change="badCurrentPassword = false" ng-model="changePasswordInputCurrentPassword" name="changePasswordInputCurrentPassword" id="changePasswordInputCurrentPassword" type="password">
            <label for="changePasswordInputCurrentPassword">Current Password</label>
            <div class="has-error-block" ng-show="submitted && formChangePassword.changePasswordInputCurrentPassword.$error.required">The current password is required and cannot be empty.</div>
            <div class="has-error-block" ng-show="submitted && badCurrentPassword">The password you gave is incorrect.</div>
          </div>
        </div>

        <!-- input new password -->
        <div class="row">
          <div class="input-field col s12">
            <input required ng-minlength="6" ng-change="passwordDontMatch = false" ng-model="changePasswordInputNewPassword" name="changePasswordInputNewPassword" id="changePasswordInputNewPassword" type="password">
            <label for="changePasswordInputNewPassword">New Password</label>
            <div class="has-error-block" ng-show="submitted && formChangePassword.changePasswordInputNewPassword.$error.required">The new password is required and cannot be empty.</div>
            <div class="has-error-block" ng-show="submitted && !formChangePassword.changePasswordInputNewPassword.$error.required && formChangePassword.changePasswordInputNewPassword.$invalid">The password must be at least 6 characters long.</div>
          </div>
        </div>

        <!-- input confirm new password -->
        <div class="row">
          <div class="input-field col s12">
            <input required ng-minlength="6" ng-change="passwordDontMatch = false" ng-model="changePasswordInputConfirmNewPassword" name="changePasswordInputConfirmNewPassword" id="changePasswordInputConfirmNewPassword" type="password">
            <label for="changePasswordInputConfirmNewPassword">Confirm New Password</label>
            <div class="has-error-block" ng-show="submitted && formChangePassword.changePasswordInputConfirmNewPassword.$error.required">The confirm new password is required and cannot be empty.</div>
            <div class="has-error-block" ng-show="submitted && !formChangePassword.changePasswordInputConfirmNewPassword.$error.required && formChangePassword.changePasswordInputConfirmNewPassword.$invalid">The password must be at least 6 characters long.</div>
            <div class="has-error-block" ng-show="submitted && passwordDontMatch">The new passwords don't match.</div>
          </div>
        </div>

        <div class="center">
          <button style="margin-top: 30px;" type="submit" class="waves-effect waves-light btn">Change password</button>
        </div>
      </form>
    </div>
    </div>
  </div>
</div>


<script>
$(document).ready(function(){
  $('ul.tabs').tabs();
});
</script>
